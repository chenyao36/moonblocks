import { Detail } from "@raycast/api";

const SYMBOLS = [ 'ğŸŒ’', 'ğŸŒ”' ];

const ID_MAP = {
  '000': [ 'å…­åˆè‡ªç„¶å’Œï¼Œæ±‚è´¢å–œåº†å¤šï¼Œé¡ºé£å¹¶é¡ºæ°´ï¼Œå‰è¿›è«è¹‰è·ã€‚å…­åˆå¦ä¹Ÿã€‚' ],
  '001': [ 'è‰æœ¨æ¯è¿˜å‘ï¼Œå…¨å‡­é€ åŒ–åŠŸï¼Œè«å°†æ±‚å»æ™šï¼Œé¡»å€Ÿä¸€å¸†é£ã€‚å‘å‰å¯ä¸ºã€‚' ],
  '002': [],
  '010': [],
  '011': [ 'é£èµ·ä¸‰å±‚æµªï¼Œäº‘ç”Ÿä¸‡é‡Œé˜´ï¼Œäº¤æƒ…åˆ†å½¼æ­¤ï¼Œé¡·åˆ»è§ç¾è¿ã€‚æ‰è€å¿ƒåŠ›ã€‚' ],
  '012': [ 'ä¸œé£å…ˆè§£å†»ï¼ŒèŠ±å æ´›é˜³æ˜¥ï¼Œç‰éª¨å†°è‚Œæ¶¦ï¼Œé’é¦™éš”ç¬¼é—´ã€‚å…ˆéš¾åæ˜“ã€‚', 'é£“é£æœªæˆæ€¥ï¼ŒæƒŠå±åœ¨çœ¼å‰ï¼Œå¿§å¿ƒéå®‰å¦¥ï¼Œå§‹ç»ˆä¸å®‰ç„¶ã€‚å¤§è€Œä¸åˆ©ã€‚' ],
  '020': [ 'é˜´é˜³å¤šåå¤ï¼Œåšäº‹æéš¾æˆï¼Œè‹¥å¼ºæ±‚ä¸ºè€…ï¼Œé¡»é˜²æ¥å§‹ç»ˆã€‚ä¸å®œç”¨äº‹ã€‚' ],
  '021': [ 'é’äº‘åº”æœ‰è·¯ï¼Œä¸¹å‡¤ç¾½æ¯›è½»ï¼Œåƒé‡Œäººé’¦ä»°ï¼Œææºç™¾äº‹æˆã€‚äº¦å¯ç”¨äº‹ã€‚' ],
  '022': [ 'æ¬²è¿›ä¸èƒ½è¨€ï¼Œè¿›é€€ä¿±éš¾ä¹…ï¼Œå¾…ä»·ä¸å¾…æ—¶ï¼Œå®‰å¿ƒä¿±åˆ†å®ˆã€‚åšäº‹è¿›é€€ã€‚' ],
  '100': [ 'è‰¯éª¥ç”¨æŠŠè½¦ï¼Œè½®è½¦åŠ›ä¸åŠ ï¼Œä¸–é—´æ— ç™¾ä¹ï¼Œç»ˆè€åœ¨å†œå®¶ã€‚å…ˆå‡¶åå‰ã€‚' ],
  '101': [ 'è¡Œèˆ¹è«æ¨è¿Ÿï¼Œé£æ€¥åˆå¹å›ï¼Œä¸¾æ£¹åº”éš¾å¾—ï¼Œæ‰¬å¸†çƒŸé›¾ä¸­ã€‚ä¸åˆ©äºäº‹ã€‚' ],
  '102': [],
  '110': [ 'å…‰è¾‰ä¸€å¤„é£ï¼Œæ©çˆ±åæˆä»‡ï¼Œé—­é—¨ä¸”ç¼©å¤´ï¼Œè«ç®¡é—²äº‹éã€‚è™½å‰åªè¿Ÿã€‚' ],
  '111': [ 'æ™šæ¥é£é£™æ€¥ï¼Œå¥½äº‹åœ¨åºæ±Ÿï¼Œé˜»éš”æˆéš¾äº‹ï¼Œæƒºæƒºä¸”æš‚åœã€‚åšäº‹å¹³å¹³ã€‚' ],
  '112': [ 'ç‰é›€å‡ºæ¨Šç¬¼ï¼Œç¿»ç¿»ä¸Šç¢§ç©ºï¼Œä½•å¿§çœ¼å‰äº‹ï¼Œè´¢å®è‡ªç„¶é€šã€‚å¤§å‰ä¹‹å¦ã€‚' ],
  '120': [ 'é˜³å¾·æ–¹äº¨æ—¥ï¼Œç¾¤é˜´ä»¥å¾…æ—¶ï¼Œå°å¿ƒçš†é™©è¿¹ï¼Œå›å­é™…æ˜ŒæœŸã€‚å›å­ç»ˆå‰ã€‚' ],
  '121': [ 'æ·‘å¥³é…å›å­ï¼Œè´¤è‡£é‡å¥½å›ï¼Œå®¶å’Œä¸‡äº‹é¡ºï¼Œå›½æ³°ä¸‡æ°‘å®‰ã€‚ç¾ç‰æ— æš‡ã€‚' ],
  '122': [ 'ä¸œå›å¾—å¥½æ„ï¼Œæ¯æœ¨å‘æ–°æï¼Œå¯Œè´µä»äººæ„¿ï¼Œéº»è¡£æ¢ç»¿è¡£ã€‚æœ¬åŸå¤§å‰ã€‚' ],
  '200': [ 'æµ®äº‘å¹æ•£å°½ï¼Œæ˜æœˆæ­£å½“ä¸­ï¼Œä¸‡é‡Œä¸€å¤©ç¢§ï¼Œä¸œè¥¿é›¨ä¾¿é£ã€‚æ±‚è°‹å¦‚æ„ã€‚' ],
  '201': [ 'æ½®ç”Ÿè‡ªæœ‰æ—¶ï¼Œå¸†å»å¦‚å¾—é£ï¼Œé£ä¸å‘¨éƒä¾¿ï¼Œæ— äº‘æœˆæ­£è¾‰ã€‚ä¸‰å¥‡å‰å¦ã€‚' ],
  '202': [],
  '210': [ 'æ˜ æ—¥éš”è›Ÿé¾™ï¼Œé»‘ç™½æœªåˆ†æ˜ï¼Œä»€è¯­ä¼‘å‡­ä¿¡ï¼Œè¡Œäººæ­£æ–­é­‚ã€‚è°‹æœ›å¾…æ—¶ã€‚' ],
  '211': [ 'çšçšä¸€è½®æœˆï¼Œæ¸…å…‰å››æµ·åˆ†ï¼Œå°†å†›å·¡æµ·å²±ï¼Œç¾¤è´¼æœ›é£æ³¢ã€‚ä»æ­£åˆ™å‰ã€‚' ],
  '212': [ 'æµ©æµ©é•¿æ±Ÿæ°´ï¼ŒèˆŸå¸†ä»»å¾€è¿˜ï¼Œé—®å›èƒ½é‚æ„ï¼Œæ±‚åˆ©æœ‰ä½•éš¾ã€‚ä¸Šä¸Šå¤§å‰ã€‚' ],
  '220': [ 'æ˜ç å¤±åœŸä¸­ï¼Œç›¸æ··åœŸç›¸åŒï¼Œæ±‚è´¢åº”éš¾å¾—ï¼Œè¡Œäººä¿¡ä¸é€šã€‚æœ‰å¤´æ— å°¾ã€‚' ],
  '221': [ 'åƒé‡Œé‡çŸ¥éŸ³ï¼Œæ±‚è´¢è‡ªç§°å¿ƒï¼Œå é¾™å¾—ç”˜é›¨ï¼Œå¤±ç‰©çœ¼å‰å¯»ã€‚ä¸Šä¸Šå¤§å‰ã€‚' ],
  '222': [],
};

function throwOne() {
  return Math.floor(Math.random() * 2);
}

function throwTwo() {
  const results = [ throwOne(), throwOne() ];
  const symbols = [ SYMBOLS[results[0]], SYMBOLS[results[1]] ];
  return (results[0] !== results[1]) ?
    {
      id: '2',
      title: 'è–',
      symbols,
    } :
    results[0] ?
    {
      id: '1',
      title: 'ç¬‘',
      symbols,
    } :
    {
      id: '0',
      title: 'æ€’',
      symbols,
    };
}

function throwThrice() {
  const results = [ throwTwo(), throwTwo(), throwTwo() ];
  const id = results.map(_ => _.id).join('');
  const title = results.map(_ => _.title).join('');
  const descParts = [
    results
      .map(({ title, symbols }, i) => {
        const iStr = [ 'ä¸€', 'äºŒ', 'ä¸‰' ][i];
        const suffix = i == 2 ? 'ã€‚' : 'ï¼›';
        return `- ç¬¬${iStr}æ¬¡ï¼š${title} ${symbols.join('')}${suffix}`;
      })
      .join('\n'),
  ];
  const idValues = ID_MAP[id];
  if (idValues.length === 1) {
    descParts.push(`å¦è¾ï¼š${idValues[0]}`);
  } else if (idValues.length > 1) {
    descParts.push(`å¦è¾ï¼š\n- ${idValues.join('\n- ')}`);
  }
  return {
    id,
    title,
    results,
    desc: descParts.join('\n\n'),
  };
}

export default function Command() {
  const result = throwThrice();
  const markdown = `# ${result.title}\n\n${result.desc}`;
  return <Detail markdown={markdown} />;
}
